function stopAllSounds(){for(var e in buzz.sounds)for(e=0;total_sound_effect>e;e++)Object(sound_effect_object[String(sound_xml[e].getAttribute("id"))]).mute()}function fadeOutAllSounds(e){for(var o in buzz.sounds)for(o=0;total_sound_effect>o;o++)Object(sound_effect_object[String(sound_xml[o].getAttribute("id"))]).fadeOut(Number(500*e))}function setSoundEffects(){$.get("./configuration/main_settings.xml",function(e){var o;buzz.isMP3Supported()?o="mp3":buzz.isOGGSupported()&&(o="OGG"),sound_xml=$(e).find("sound_effects").find("sound"),sound_xml.each(function(u){var t=$(this),n=String(t.attr("id")),d=String(t.attr("path")).split(".mp3")[0];master_volume=Number($(e).find("music").attr("master_volume"))+15,total_sound_effect=t.length,sound_effect_object[n]=new buzz.sound(d,{formats:[o],preload:!0,loop:!1}),sound_group_array[u]=sound_effect_object[n]})}).done(function(e){setSoundEffectsComplete()})}function setSoundEffectsComplete(){var e;sound_group=new buzz.group([sound_group_array]),e=sound_group_array[Number(total_sound_effect-1)],e.bind("canplaythrough",function(e){allSoundsPreloaded()}),setTimeout("mobileBypass()",Number(1e4))}function mobileBypass(){"ios"==os_type&&allSoundsPreloaded()}function addSoundEffect(e,o){var u;buzz.isMP3Supported()?u="mp3":buzz.isOGGSupported()&&(u="OGG"),sound_effect_object[e]=new buzz.sound(o,{formats:[u],preload:!0,loop:!1}),Object(sound_effect_object[e]).mute(),log("add new sound | "+e+" : "+o)}function playSoundEffect(e,o){("true"==o||1==o)&&stopAllSounds(),"fade"==o&&current_sound.fadeOut(1e3),"fade_all"==o&&fadeOutAllSounds(1),log("playSoundEffect("+e+" , "+o+")"),current_sound=sound_effect_object[e],current_sound.unmute(),current_sound.setTime(0),current_sound.setVolume(master_volume),current_sound.play()}function playSoundEffectVol(e,o,u){("true"==o||1==o)&&stopAllSounds(),"fade"==o&&current_sound.fadeOut(1e3),"fade_all"==o&&fadeOutAllSounds(1),log("playSoundEffectVol("+e+" , "+o+", _set_volume: ["+u+"] )"),current_sound=sound_effect_object[e],current_sound.unmute(),current_sound.setTime(0),current_sound.setVolume(u),current_sound.play()}function allSoundsPreloaded(){log("all sounds effects buffered"),sounds_all_preloaded||(sounds_all_preloaded=!0,loadDefaultGalleryAssets())}var sound_effect_object=new Object,current_sound,master_volume=100,total_sound_effect,sound_xml,sound_group,sound_group_array=new Array,sounds_all_preloaded=!1;