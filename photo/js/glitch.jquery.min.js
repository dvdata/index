!function(t){t.fn.glitch=function(i){var n=t.extend({bg:null,maxint:10,minint:3.5,maxglitch:100,hshift:40,vshift:30,direction:"random",texture:"#entrance_glitch_overlay",total_glitch_sfx:15,current_glitch_sfx:0},i);return this.each(function(){$t=t(this),$t.wrap('<span style="display:inline-block;position:relative">');var i=$t.closest("span"),e=$t.clone(),o=$t.height(),a=$t.width(),c="";-1!=navigator.appVersion.indexOf("Win")&&(c="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(c="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(c="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(c="Linux"),null===n.bg&&(n.bg=$t.css("background-color")),e.css({position:"absolute",top:0,left:0,height:o,width:a,opacity:0,overflow:"hidden","background-color":n.bg}),i.append(e);var r,s=function(t){return Math.ceil(Math.random()*(t+1))},l=function(){var i,c=Math.floor(35+25*Math.random());for(n.current_glitch_sfx++,Number(n.current_glitch_sfx)>Number(n.total_glitch_sfx)&&(n.current_glitch_sfx=1),entrance_debug||c_glitch_active&&playSoundEffectVol(String("general_glitch_snd_"+n.current_glitch_sfx),"false",c),i=0;i<s(n.maxglitch)+1;i++)setTimeout(function(){var i,c;c="random"==n.direction?Math.random()<.5?"horizontal":"vertical":n.direction,i="vertical"==c?{top:s(n.vshift+1),height:o,opacity:1}:{left:s(n.hshift+1),width:a,opacity:1},n.texture&&(t(n.texture).css("opacity",Number(.1*Math.random())),t(n.texture).css("background-position",s(600)+"px "+s(600)+"px ")),e.css(i)},s(300));setTimeout(function(){e.css({left:0,top:0,opacity:0})},300),setTimeout(function(){t("#entrance_glitch_overlay").css("opacity","0")},500),r=setTimeout(l,1e3*(s(n.maxint-n.minint)+n.minint)),c_glitch_active||clearTimeout(r)};setTimeout(l,500)})}}(jQuery);